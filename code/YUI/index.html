<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Agent YUI</title>
<style type="text/css" media="screen">

a.wp-link {
	padding-left: 20px;
	background: #fff url(http://www.klauskomenda.com/wp-content/uploads/2007/10/ayui_m2/img/wikipedia-icon.gif) no-repeat;
}
a.local-link {
	padding-left: 16px;
	background: #fff url(http://www.klauskomenda.com/wp-content/uploads/2007/10/ayui_m2/img/icon_external_link.gif) no-repeat;
}

</style>
<script type="text/javascript" src="http://yui.yahooapis.com/2.9.0/build/yahoo-dom-event/yahoo-dom-event.js"></script>
</head>

<body>

<p><a href="http://www.klauskomenda.com/wp-content/uploads/2007/10/ayui_m1/ayui_m1_all_images.html" id="switch">Switch Image</a></p>
<p><img src="http://www.klauskomenda.com/wp-content/uploads/2007/10/ayui_m1/img/daniel_craig.jpg" alt="" id="picture" /></p>

<ul>
	<li>Marking <a href="http://en.wikipedia.org/">a link to wikipedia</a></li>
	<li>Marking <a href="http://orf.at/">a link to any other external resource</a></li>
</ul>

<script type="text/javascript">

YAHOO.namespace("AgentYUI");
YAHOO.AgentYUI.Mission1 = function() {
	var config = {
		switchId: "switch",
		imageId: "picture",
		images: ['daniel_craig.jpg', 'pierce_brosnan.jpg', 'sean_connery.jpg'],
		imageFolder: "http://www.klauskomenda.com/wp-content/uploads/2007/10/ayui_m1/img"
	};
	var init = function() {
		YAHOO.util.Event.addListener(config.switchId, "click", this.switchImage);
	};
	var switchImage = function(e) {
		YAHOO.util.Event.preventDefault(e);
		var imageEl = YAHOO.util.Dom.get(config.imageId);
		imageEl.src = config.imageFolder + "/" + config.images[Math.round(Math.random() * 2)];
	};
	return {
		init: init,
		switchImage: switchImage
	};
}();
YAHOO.AgentYUI.Mission1.init();

YAHOO.AgentYUI.Mission2 = function() {
	var init = function() {
		YAHOO.util.Dom.getElementsBy(formatLinks, "a");
	};
	var formatLinks = function(el) {
		// console.log(el);
		var currentHref = el.getAttribute("href");
		if(currentHref.indexOf("http://en.wikipedia.org") != -1) {
			YAHOO.util.Dom.addClass(el, "wp-link");
		} else if(currentHref.indexOf("http://") != -1) {
			YAHOO.util.Dom.addClass(el, "local-link");
		}
	};
	return {
		init: init
	};
}();
YAHOO.AgentYUI.Mission2.init();

</script>

</body>
</html>